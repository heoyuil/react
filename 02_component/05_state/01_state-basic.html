<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script crossorigin src='https://unpkg.com/react@18/umd/react.development.js'></script>
    <script crossorigin src='https://unpkg.com/react-dom@18/umd/react-dom.development.js'>
    </script><script src='https://unpkg.com/@babel/standalone/babel.min.js'></script>
    
</head>
<body>
    
    <div id='root'></div>
    <!--
        state란?
        state는 컴포넌트 내부에서 바뀔 수있는 값을 의미한다.
        props는 컴포넌트가 사용되는 과정에서 부모 컴포넌트가 설정하는 값이지만, state는 컴포넌트 내부에서 설정하는 값이다.
        props는 읽기전용으로만 사용되지만 state는 변경되는 값을 관리한다.

        리액트는 클래스형 컴포넌트에서 state를 직접사용할 수 있다. 하지만 함수형 컴포넌트에서는 직접 state를 사용하는 것이 불가능하다.
        따라서 함수형 컴포넌트에서도 state를 관리할 수 있는 기능을 useState라는 hooks로 제공하고 있다.
    -->
    <script type='text/babel'>
        
        class Counter extends React.Component{
            // 컴포넌트를 생성할 때 가장 먼저 호출되는 생성자 함수
            constructor(props){
                /* 부모컴포넌트로부터 전달받은 props를 부모클래스의 생성자에 전달하면서 컴포넌트를 생성한다*/
                super(props);
                /*
                    state를 초기화한다. state는 생성자 안에서 초기화하는 경우 this.를 붙여야 한다.

                    주의사항
                    state는 생성자 안에서 작성할 시 this.을 명시해야 한다. 
                    또한 이름을 반드시 state로 해야 하며, state에 저장되는
                    값의 형태는 반드시 Object 리터럴 형태로 작성해야 한다.
                */
                this.state = {
                    number:0
                }
            }

            render(){
                // state에 저장된 number 상태값을 비구조화 할당을 이용해 저장
                const {number} = this.state;
                /*
                    state의 상태값을 변경하기 위해서는 setState함수를 이용해야 한다. 
                    새로운 상태값을 가지고 있는 Object를 동일한 키로 설정하여 인자로 전달하면 state객체를 덮어쓰게 된다. 
                    기존 state에 여러 값들이 있다고 해도 동일한 키를 가진 값만 덮어쓰게 ㅗ딘다
                */
                return(
                    <>
                        <h1 style ={(number < 0)? {color:'red'}:{color:'blue'}}>Count: {number}</h1>
                        <button onClick={()=>this.setState({number: number-1})}>-1</button>
                        <button onClick={()=>this.setState({number: number+1})}>+1</button>
                    </>
                );
            }
        }
        ReactDOM.createRoot(document.getElementById('root')).render(<Counter />);

    </script>
</body>
</html>